import{_ as D,g as A,u as T,h as f,c as p,o as V,a as E,b as v,d as m,e,t as n,n as G,F as S,r as b,f as h,i as z}from"./index-9ee89850.js";import{u as I}from"./index-63dfe2fa.js";const P={name:"LocationView",setup(){const r=A(),i=T(),a=I(),t=f(0),c=f(!1),u=f(!1),s=f(null),l=f("ä»»åŠ¡å°šæœªå¼€å§‹..."),d={library:{title:"å¤è€å›¾ä¹¦é¦†",subtitle:"å¯»æ‰¾åˆå§‹çº¿ç´¢",steps:[{title:"å¯»æ‰¾å¤ç±",content:"åœ¨å¤è€çš„å›¾ä¹¦é¦†é‡Œå¯»æ‰¾å…³äºå®è—çš„ç¬¬ä¸€ä¸ªçº¿ç´¢...",animation:"ğŸ“š",quiz:null},{title:"è§£è¯»å¤ç±",content:"ä½ æ‰¾åˆ°äº†ä¸€æœ¬å¤ç±ï¼Œä½†éœ€è¦è§£å¼€ä¹¦ä¸­çš„è°œé¢˜...",animation:"ğŸ”",quiz:{question:"å¤ç±ä¸­å“ªä¸ªç¬¦å·ä»£è¡¨'å®è—'ï¼Ÿ",options:[{text:"âš¡",correct:!1},{text:"ğŸ’",correct:!0},{text:"ğŸŒ™",correct:!1},{text:"ğŸ”¥",correct:!1}]}}],resultSuccess:"æˆåŠŸæ‰¾åˆ°çº¿ç´¢: 'å½“å¤ªé˜³ä¸æœˆäº®ç›¸é‡ï¼Œå®çŸ³å°†æŒ‡å¼•æ–¹å‘'",resultFailure:"æœªèƒ½æ‰¾åˆ°çº¿ç´¢ï¼Œéœ€è¦å†æ¬¡å°è¯•"},temple:{title:"å¤±è½ç¥åº™",subtitle:"è§£ç å¤ä»£æ–‡å­—",steps:[{title:"è¿›å…¥ç¥åº™",content:"æ ¹æ®çº¿ç´¢ï¼Œä½ æ¥åˆ°äº†å¤±è½çš„ç¥åº™ï¼Œå¯»æ‰¾å¤ä»£æ–‡å­—...",animation:"ğŸ›ï¸",quiz:null},{title:"è§£è¯»æ–‡å­—",content:"ä½ å‘ç°äº†åˆ»åœ¨å¢™ä¸Šçš„å¤ä»£æ–‡å­—ï¼Œéœ€è¦æ­£ç¡®è§£è¯»...",animation:"ğŸ”",quiz:{question:"å¤ä»£æ–‡å­—ä¸­å“ªä¸ªå›¾æ¡ˆä»£è¡¨'å…¥å£'ï¼Ÿ",options:[{text:"ğŸšª",correct:!0},{text:"ğŸ”‘",correct:!1},{text:"ğŸ—ï¸",correct:!1},{text:"ğŸ”’",correct:!1}]}}],resultSuccess:"æˆåŠŸè§£ç ! çº¿ç´¢æŒ‡å‘ç¥ç§˜æ´ç©´",resultFailure:"è§£ç å¤±è´¥ï¼Œéœ€è¦é‡æ–°å°è¯•"},cave:{title:"ç¥ç§˜æ´ç©´",subtitle:"é¿å¼€å®ˆå«é™·é˜±",steps:[{title:"è¿›å…¥æ´ç©´",content:"ä½ æ¥åˆ°äº†ç¥ç§˜æ´ç©´ï¼Œéœ€è¦å°å¿ƒé¿å¼€å®ˆå«...",animation:"ğŸ•³ï¸",quiz:null},{title:"é¿å¼€é™·é˜±",content:"æ´ç©´ä¸­æœ‰å¤è€çš„å®ˆå«æœºåˆ¶ï¼Œéœ€è¦å·§å¦™é¿å¼€...",animation:"âš”ï¸",quiz:{question:"å¦‚ä½•é¿å¼€æ´ç©´ä¸­çš„é™·é˜±ï¼Ÿ",options:[{text:"å¿«é€Ÿå†²è¿‡å»",correct:!1},{text:"æ²¿ç€å¢™è¾¹è¡Œèµ°",correct:!0},{text:"å¤§å£°å–Šå«",correct:!1},{text:"é—­ä¸Šçœ¼ç›",correct:!1}]}}],resultSuccess:"æˆåŠŸé¿å¼€å®ˆå«! æ‰¾åˆ°äº†ä¸€ä¸ªç¥ç§˜ç®±å­",resultFailure:"è¢«å®ˆå«å‘ç°ï¼Œéœ€è¦é‡æ–°å°è¯•"},beach:{title:"æ²‰èˆ¹æµ·æ»©",subtitle:"å¯»æ‰¾è—å®å›¾",steps:[{title:"æœç´¢æµ·æ»©",content:"åœ¨æ²‰èˆ¹æµ·æ»©ä¸Šå¯»æ‰¾å¯èƒ½çš„è—å®å›¾...",animation:"ğŸ–ï¸",quiz:null},{title:"è§£è¯»åœ°å›¾",content:"ä½ æ‰¾åˆ°äº†ä¸€å¼ å¤è€çš„åœ°å›¾ï¼Œéœ€è¦æ­£ç¡®è§£è¯»...",animation:"ğŸ—ºï¸",quiz:{question:"åœ°å›¾ä¸Šçš„Xæ ‡è®°åœ¨å“ªé‡Œï¼Ÿ",options:[{text:"æ£•æ¦ˆæ ‘ä¸‹",correct:!1},{text:"å¤§çŸ³å¤´ä¸‹",correct:!0},{text:"æ²™æ»©ä¸­å¤®",correct:!1},{text:"æµ·æµªè¾¹",correct:!1}]}}],resultSuccess:"æˆåŠŸæ‰¾åˆ°è—å®å›¾! æ ‡è®°æŒ‡å‘è¿œå¤å±±è„‰",resultFailure:"æœªèƒ½æ‰¾åˆ°è—å®å›¾ï¼Œéœ€è¦å†æ¬¡æœç´¢"},mountain:{title:"è¿œå¤å±±è„‰",subtitle:"è§£è¯»æ˜Ÿè±¡çº¿ç´¢",steps:[{title:"æ”€ç™»å±±è„‰",content:"ä½ æ¥åˆ°äº†è¿œå¤å±±è„‰ï¼Œå¯»æ‰¾æ˜Ÿè±¡çº¿ç´¢...",animation:"â›°ï¸",quiz:null},{title:"è§‚å¯Ÿæ˜Ÿè±¡",content:"åœ¨å±±é¡¶è§‚å¯Ÿæ˜Ÿè±¡ï¼Œå¯»æ‰¾å®è—çš„æœ€ç»ˆä½ç½®...",animation:"ğŸ”­",quiz:{question:"å“ªé¢—æ˜Ÿæ˜ŸæŒ‡å‘å®è—ä½ç½®ï¼Ÿ",options:[{text:"åŒ—ææ˜Ÿ",correct:!1},{text:"åŒ—æ–—ä¸ƒæ˜Ÿ",correct:!0},{text:"å¤©ç‹¼æ˜Ÿ",correct:!1},{text:"é‡‘æ˜Ÿ",correct:!1}]}}],resultSuccess:"æˆåŠŸè§£è¯»æ˜Ÿè±¡! å®è—å°±åœ¨å‰æ–¹çš„å¯†å®¤ä¸­",resultFailure:"æ˜Ÿè±¡è§£è¯»é”™è¯¯ï¼Œéœ€è¦é‡æ–°è§‚å¯Ÿ"},treasure:{title:"å®è—å¯†å®¤",subtitle:"æ‰“å¼€å®è—ç®±",steps:[{title:"è¿›å…¥å¯†å®¤",content:"ä½ ç»ˆäºæ¥åˆ°äº†å®è—å¯†å®¤ï¼Œæ‰¾åˆ°äº†ç¥ç§˜çš„å®è—ç®±...",animation:"ğŸ’",quiz:null},{title:"æ‰“å¼€å®ç®±",content:"å®è—ç®±ä¸Šæœ‰æœ€åçš„è°œé¢˜ï¼Œéœ€è¦è§£å¼€æ‰èƒ½æ‰“å¼€...",animation:"ğŸ",quiz:{question:"å®è—ç®±ä¸Šçš„è°œé¢˜ï¼šä»€ä¹ˆä¸œè¥¿è¶Šæ´—è¶Šè„ï¼Ÿ",options:[{text:"è¡£æœ",correct:!1},{text:"æ°´",correct:!0},{text:"è‚¥çš‚",correct:!1},{text:"æ‰‹",correct:!1}]}}],resultSuccess:"æ­å–œ!ä½ æ‰¾åˆ°äº†ä¼ è¯´ä¸­çš„å®è—â€”â€”ä¸€é¢—å‘å…‰çš„è¿œå¤å®çŸ³!",resultFailure:"æœªèƒ½æ‰“å¼€å®è—ç®±ï¼Œéœ€è¦é‡æ–°å°è¯•"}},o=p(()=>d[r.params.id]||null),_=p(()=>a.completedLocations.includes(r.params.id)),L=p(()=>o.value?(t.value+1)/o.value.steps.length*100:0),k=p(()=>_.value?"ä»»åŠ¡å·²å®Œæˆ":c.value?"ä»»åŠ¡è¿›è¡Œä¸­...":"å¼€å§‹ä»»åŠ¡"),y=()=>{_.value||c.value||(a.playSound("click"),c.value=!0,t.value=0,l.value="ä»»åŠ¡è¿›è¡Œä¸­...",u.value=!1,s.value=null,g())},g=()=>{if(!o.value)return;o.value.steps[t.value].quiz||setTimeout(()=>{t.value++,t.value<o.value.steps.length?g():x()},1500)},w=(q,F)=>{u.value||(a.playSound("click"),u.value=!0,s.value=q,setTimeout(()=>{F?(a.playSound("success"),t.value++,t.value<o.value.steps.length?(u.value=!1,s.value=null,g()):x()):(a.playSound("failure"),B())},1200))},x=()=>{a.completeLocation(r.params.id),l.value=o.value.resultSuccess,c.value=!1},B=()=>{a.failLocation(r.params.id),l.value=o.value.resultFailure,c.value=!1},C=()=>{a.playSound("click"),i.push("/")};return V(()=>{if(!o.value){i.push("/");return}a.locationBgmEnabled&&a.playLocationBgm(r.params.id),_.value&&(l.value=o.value.resultSuccess)}),E(()=>{a.stopBgm()}),{currentLocationData:o,currentStepIndex:t,isInProgress:c,showAnswer:u,selectedOption:s,resultMessage:l,gameStore:a,isCompleted:_,stepProgress:L,startButtonText:k,startLocationGame:y,handleAnswer:w,goBack:C}}},M={key:0,class:"location-view"},N={class:"container"},O={class:"subtitle"},R={class:"progress-bar"},U={class:"game-area"},X={class:"step-header"},j={class:"step-number"},H={class:"step-title"},J={class:"step-content"},K={key:0,class:"quiz-container"},Q={class:"quiz-question"},W={class:"quiz-options"},Y=["onClick","disabled"],Z={class:"step-animation"},$={class:"animation-icon"},tt={class:"treasure-result"},et={class:"controls"},st=["disabled"],ot={class:"audio-controls"};function at(r,i,a,t,c,u){return t.currentLocationData?(v(),m("div",M,[e("div",N,[e("header",null,[e("h1",null,n(t.currentLocationData.title),1),e("p",O,n(t.currentLocationData.subtitle),1)]),e("div",R,[e("div",{class:"progress",style:G({width:t.stepProgress+"%"})},null,4)]),e("div",U,[(v(!0),m(S,null,b(t.currentLocationData.steps,(s,l)=>(v(),m("div",{key:l,class:h(["step-card",{active:t.currentStepIndex===l}])},[e("div",X,[e("div",j,n(l+1),1),e("h2",H,n(s.title),1)]),e("div",J,[e("p",null,n(s.content),1)]),s.quiz&&t.currentStepIndex===l?(v(),m("div",K,[e("div",Q,n(s.quiz.question),1),e("div",W,[(v(!0),m(S,null,b(s.quiz.options,(d,o)=>(v(),m("button",{key:o,class:h(["quiz-option",{correct:t.showAnswer&&d.correct,incorrect:t.showAnswer&&t.selectedOption===o&&!d.correct}]),onClick:_=>t.handleAnswer(o,d.correct),disabled:t.showAnswer},n(d.text),11,Y))),128))])])):z("",!0),e("div",Z,[e("div",$,n(s.animation),1)])],2))),128))]),e("div",tt,n(t.resultMessage),1),e("div",et,[e("button",{onClick:i[0]||(i[0]=(...s)=>t.startLocationGame&&t.startLocationGame(...s)),disabled:t.isCompleted||t.isInProgress},n(t.startButtonText),9,st),e("button",{onClick:i[1]||(i[1]=(...s)=>t.goBack&&t.goBack(...s))}," è¿”å›åœ°å›¾ ")]),e("div",ot,[e("button",{class:h(["audio-btn",{active:t.gameStore.locationBgmEnabled}]),onClick:i[2]||(i[2]=(...s)=>t.gameStore.toggleLocationBgm&&t.gameStore.toggleLocationBgm(...s))},n(t.gameStore.locationBgmEnabled?"ğŸ”Š":"ğŸ”‡")+" åœ°ç‚¹éŸ³ä¹ ",3)]),e("footer",null,[e("div",null,n(t.currentLocationData.title)+" - "+n(t.currentLocationData.subtitle),1)])])])):z("",!0)}const it=D(P,[["render",at],["__scopeId","data-v-404cda9c"]]);export{it as default};
