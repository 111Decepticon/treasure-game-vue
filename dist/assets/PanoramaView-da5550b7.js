import{_ as b,u as k,c,o as S,a as C,b as d,d as l,e as t,F as h,r as y,n as B,t as a,f as m}from"./index-9ee89850.js";import{u as E}from"./index-63dfe2fa.js";const L={name:"PanoramaView",setup(){const u=k(),e=E(),i=[{id:"library",name:"å¤è€å›¾ä¹¦é¦†",description:"å¯»æ‰¾åˆå§‹çº¿ç´¢",icon:"ğŸ“š"},{id:"temple",name:"å¤±è½ç¥åº™",description:"è§£ç å¤ä»£æ–‡å­—",icon:"ğŸ›ï¸"},{id:"cave",name:"ç¥ç§˜æ´ç©´",description:"é¿å¼€å®ˆå«é™·é˜±",icon:"ğŸ•³ï¸"},{id:"beach",name:"æ²‰èˆ¹æµ·æ»©",description:"å¯»æ‰¾è—å®å›¾",icon:"ğŸ–ï¸"},{id:"mountain",name:"è¿œå¤å±±è„‰",description:"è§£è¯»æ˜Ÿè±¡çº¿ç´¢",icon:"â›°ï¸"},{id:"treasure",name:"å®è—å¯†å®¤",description:"æ‰“å¼€å®è—ç®±",icon:"ğŸ’"}],o=c(()=>e.completedLocations.length),r=c(()=>i.length),_=c(()=>o.value/r.value*100),n=s=>{e.markUserInteracted(),e.playSound("click"),e.setCurrentLocation(s),u.push(`/location/${s}`)},g=s=>e.completedLocations.includes(s),p=s=>e.locationProgress[s]==="failed",v=()=>{confirm("ç¡®å®šè¦é‡æ–°å¼€å§‹å—ï¼Ÿæ‰€æœ‰è¿›åº¦å°†è¢«æ¸…ç©ºï¼")&&(e.markUserInteracted(),e.playSound("click"),e.resetGame())},f=s=>{e.markUserInteracted(),s()};return S(()=>{e.loadGameState()}),C(()=>{e.stopBgm()}),{locations:i,gameStore:e,completedCount:o,totalLocations:r,progress:_,enterLocation:n,isCompleted:g,isFailed:p,resetGame:v,handleAudioButtonClick:f}}},G={class:"panorama-view"},w={class:"container"},x={class:"panorama-map"},F=["onClick"],P={class:"location-icon"},U={class:"location-name"},V={class:"location-description"},A={class:"progress-bar"},I={class:"treasure-result"},z={class:"audio-controls"};function D(u,e,i,o,r,_){return d(),l("div",G,[t("div",w,[e[3]||(e[3]=t("header",null,[t("h1",null,"ğŸ´â€â˜ ï¸ å¤šåœ°ç‚¹å¯»å®æ¸¸æˆ ğŸ—ºï¸"),t("p",{class:"subtitle"},"æ¢ç´¢ä¸åŒåœ°ç‚¹ï¼Œæ”¶é›†çº¿ç´¢ï¼Œæ‰¾åˆ°ä¼ è¯´ä¸­çš„å®è—ï¼")],-1)),t("div",x,[(d(!0),l(h,null,y(o.locations,n=>(d(),l("div",{key:n.id,class:m(["location",{completed:o.isCompleted(n.id),failed:o.isFailed(n.id)}]),onClick:g=>o.enterLocation(n.id)},[t("div",P,a(n.icon),1),t("div",U,a(n.name),1),t("div",V,a(n.description),1)],10,F))),128))]),t("div",A,[t("div",{class:"progress",style:B({width:o.progress+"%"})},null,4)]),t("div",I," æ¢ç´¢è¿›åº¦: "+a(o.completedCount)+"/"+a(o.totalLocations)+" ä¸ªåœ°ç‚¹ ",1),t("div",z,[t("button",{class:m(["audio-btn",{active:o.gameStore.bgmEnabled}]),onClick:e[0]||(e[0]=n=>o.handleAudioButtonClick(o.gameStore.toggleBgm))},a(o.gameStore.bgmEnabled?"ğŸ”Š":"ğŸ”‡")+" èƒŒæ™¯éŸ³ä¹ ",3),t("button",{class:m(["audio-btn",{active:o.gameStore.soundEffectsEnabled}]),onClick:e[1]||(e[1]=n=>o.handleAudioButtonClick(o.gameStore.toggleSoundEffects))},a(o.gameStore.soundEffectsEnabled?"ğŸ”Š":"ğŸ”‡")+" éŸ³æ•ˆ ",3),t("button",{class:"audio-btn reset-btn",onClick:e[2]||(e[2]=(...n)=>o.resetGame&&o.resetGame(...n))}," ğŸ”„ é‡æ–°å¼€å§‹ ")]),e[4]||(e[4]=t("footer",null," å¤šåœ°ç‚¹å¯»å®æ¸¸æˆ - ä½¿ç”¨ localStorage ä¿å­˜è¿›åº¦ ",-1))])])}const R=b(L,[["render",D],["__scopeId","data-v-f7c3d0ab"]]);export{R as default};
