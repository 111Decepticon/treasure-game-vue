import{_ as b,u as k,c,o as S,a as C,b as d,d as l,e as t,F as h,r as y,n as B,t as a,f as m}from"./index-9ee89850.js";import{u as E}from"./index-63dfe2fa.js";const L={name:"PanoramaView",setup(){const u=k(),e=E(),i=[{id:"library",name:"古老图书馆",description:"寻找初始线索",icon:"📚"},{id:"temple",name:"失落神庙",description:"解码古代文字",icon:"🏛️"},{id:"cave",name:"神秘洞穴",description:"避开守卫陷阱",icon:"🕳️"},{id:"beach",name:"沉船海滩",description:"寻找藏宝图",icon:"🏖️"},{id:"mountain",name:"远古山脉",description:"解读星象线索",icon:"⛰️"},{id:"treasure",name:"宝藏密室",description:"打开宝藏箱",icon:"💎"}],o=c(()=>e.completedLocations.length),r=c(()=>i.length),_=c(()=>o.value/r.value*100),n=s=>{e.markUserInteracted(),e.playSound("click"),e.setCurrentLocation(s),u.push(`/location/${s}`)},g=s=>e.completedLocations.includes(s),p=s=>e.locationProgress[s]==="failed",v=()=>{confirm("确定要重新开始吗？所有进度将被清空！")&&(e.markUserInteracted(),e.playSound("click"),e.resetGame())},f=s=>{e.markUserInteracted(),s()};return S(()=>{e.loadGameState()}),C(()=>{e.stopBgm()}),{locations:i,gameStore:e,completedCount:o,totalLocations:r,progress:_,enterLocation:n,isCompleted:g,isFailed:p,resetGame:v,handleAudioButtonClick:f}}},G={class:"panorama-view"},w={class:"container"},x={class:"panorama-map"},F=["onClick"],P={class:"location-icon"},U={class:"location-name"},V={class:"location-description"},A={class:"progress-bar"},I={class:"treasure-result"},z={class:"audio-controls"};function D(u,e,i,o,r,_){return d(),l("div",G,[t("div",w,[e[3]||(e[3]=t("header",null,[t("h1",null,"🏴‍☠️ 多地点寻宝游戏 🗺️"),t("p",{class:"subtitle"},"探索不同地点，收集线索，找到传说中的宝藏！")],-1)),t("div",x,[(d(!0),l(h,null,y(o.locations,n=>(d(),l("div",{key:n.id,class:m(["location",{completed:o.isCompleted(n.id),failed:o.isFailed(n.id)}]),onClick:g=>o.enterLocation(n.id)},[t("div",P,a(n.icon),1),t("div",U,a(n.name),1),t("div",V,a(n.description),1)],10,F))),128))]),t("div",A,[t("div",{class:"progress",style:B({width:o.progress+"%"})},null,4)]),t("div",I," 探索进度: "+a(o.completedCount)+"/"+a(o.totalLocations)+" 个地点 ",1),t("div",z,[t("button",{class:m(["audio-btn",{active:o.gameStore.bgmEnabled}]),onClick:e[0]||(e[0]=n=>o.handleAudioButtonClick(o.gameStore.toggleBgm))},a(o.gameStore.bgmEnabled?"🔊":"🔇")+" 背景音乐 ",3),t("button",{class:m(["audio-btn",{active:o.gameStore.soundEffectsEnabled}]),onClick:e[1]||(e[1]=n=>o.handleAudioButtonClick(o.gameStore.toggleSoundEffects))},a(o.gameStore.soundEffectsEnabled?"🔊":"🔇")+" 音效 ",3),t("button",{class:"audio-btn reset-btn",onClick:e[2]||(e[2]=(...n)=>o.resetGame&&o.resetGame(...n))}," 🔄 重新开始 ")]),e[4]||(e[4]=t("footer",null," 多地点寻宝游戏 - 使用 localStorage 保存进度 ",-1))])])}const R=b(L,[["render",D],["__scopeId","data-v-f7c3d0ab"]]);export{R as default};
